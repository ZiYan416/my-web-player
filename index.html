<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Music Player</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- 背景层：固定颜色，不再变色 -->
    <div class="app-background"></div>

    <!-- 播放列表弹窗 (默认隐藏) -->
    <div class="playlist-modal" id="playlist-modal">
        <div class="playlist-header">
            <h3>播放列表</h3>
            <i class="fa-solid fa-xmark" id="close-playlist"></i>
        </div>
        <ul class="playlist-items" id="playlist-items">
            <!-- JS 动态生成列表项 -->
        </ul>
    </div>

    <!-- 播放器主体 -->
    <div class="player-window" id="player-window">
        <div class="top-bar">

        </div>

        <div class="main-area">
            <!-- 左侧：信息 -->
            <div class="left-panel">
                <div class="song-header">
                    <h1 id="song-title">等待播放...</h1>
                    <p id="artist-name">请从右下角列表选择或上传</p>
                </div>
                <!-- 歌词区域 -->
                <div class="lyrics-box" id="lyrics-box"></div>
            </div>

            <!-- 右侧：唱片 -->
            <div class="right-panel">
                <div class="vinyl-halo">
                    <div class="vinyl-disk" id="vinyl">
                        <div class="album-cover" id="album-art"
                            style="background-image: url('https://via.placeholder.com/300/e0e0e0/888888?text=Music');">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 底部控制栏 -->
        <div class="control-bar">
            <!-- 左侧 -->
            <div class="action-group">
                <label for="file-input" class="icon-btn text-btn">
                    <i class="fa-solid fa-folder-open"></i> 打开
                </label>
                <input type="file" id="file-input" accept="audio/*" hidden>
                <i class="fa-regular fa-heart icon-btn hover-effect"></i>
            </div>

            <!-- 中间 -->
            <div class="center-controls">
                <div class="buttons">
                    <!-- 1. 随机播放按钮 (增加 id="shuffle-btn") -->
                    <i class="fa-solid fa-shuffle secondary-icon icon-btn hover-effect" id="shuffle-btn"
                        title="随机播放"></i>

                    <i class="fa-solid fa-backward-step icon-btn hover-effect" id="prev-btn"></i>

                    <div class="play-toggle hover-effect" id="play-pause-btn">
                        <i class="fa-solid fa-play" id="play-icon"></i>
                    </div>

                    <i class="fa-solid fa-forward-step icon-btn hover-effect" id="next-btn"></i>

                    <!-- 2. 循环模式按钮 (增加 id="loop-btn") -->
                    <i class="fa-solid fa-repeat secondary-icon icon-btn hover-effect" id="loop-btn" title="列表循环"></i>
                </div>
            </div>

            <!-- 右侧：音量与列表 -->
            <div class="right-actions">
                <div class="tag-badge">Hi-Res</div>

                <!-- 音量控制容器 -->
                <div class="volume-wrapper">
                    <i class="fa-solid fa-volume-high icon-btn hover-effect" id="mute-btn"></i>
                    <div class="volume-slider-popup">
                        <input type="range" id="volume-slider" min="0" max="1" step="0.1" value="1">
                    </div>
                </div>

                <i class="fa-solid fa-list icon-btn hover-effect" id="playlist-btn"></i>
            </div>
        </div>
    </div>

    <!-- 引入 jsmediatags (读取MP3信息) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js"></script>
    <!-- 引入 ColorThief (提取颜色) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>

    <!-- 你的主脚本 -->
    <script src="script.js"></script>
</body>

</html>